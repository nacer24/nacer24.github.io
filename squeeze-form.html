<script>
  const form = document.getElementById("ebook-form");
  const thanksMsg = document.getElementById("thanksMsg");

  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const formData = new FormData(form);

    fetch("https://script.google.com/macros/s/AKfycbz_-OXlM4JxjtggAaJ5twhu4AwFwZuHopd6_eA4Kaq46X08iIWRLhh8UQrnOq_3GIFd/exec", {
      method: "POST",
      body: formData
    })
    .then(response => {
      if (!response.ok) throw new Error("Server error: " + response.status);
      return response.text();
    })
    .then(result => {
      console.log("Success:", result);
      form.reset();
      thanksMsg.style.display = "block";
    })
    .catch(error => {
      console.error("Form Error:", error);
      alert("⚠️ Something went wrong. Please try again.\n\n" + error);
    });
  });
</script> 
