<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Get Your Free eBook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<h2>ğŸ“˜ Get Your Free eBook</h2>

<form id="form">
  <input type="email" id="email" placeholder="Enter your email" required>
  <button type="submit">Subscribe</button>
</form>

<p id="msg"></p>

<script>
const WEB_APP_URL =
  "https://script.google.com/macros/s/AKfycbxHeyAAmNQnivrYo2d38i0DUVJHnivayDTYiMWyPODsaPAflyXavxtoNuRWK-bUEAxq/exec";

document.getElementById("form").addEventListener("submit", e => {
  e.preventDefault();
  const email = document.getElementById("email").value.trim();
  const msg = document.getElementById("msg");

  msg.textContent = "Submitting...";

  fetch(WEB_APP_URL, {
    method: "POST",
    body: new URLSearchParams({
      action: "subscribe",
      email: email
    })
  })
  .then(r => r.text())
  .then(t => {
    msg.textContent =
      t.trim() === "OK"
        ? "âœ… Please check your email to confirm your subscription."
        : "âŒ " + t;
  })
  .catch(() => {
    msg.textContent = "âŒ Network error.";
  });
});
</script>

</body>
</html>
