<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Free eBook</title>
</head>
<body>

<h2>ğŸ“˜ Get the Free eBook</h2>

<form id="f">
  <input type="email" id="email" required placeholder="Your email">
  <button>Subscribe</button>
</form>

<p id="msg"></p>

<script>
const WEB_APP_URL =
  "https://script.google.com/macros/s/AKfycbxHeyAAmNQnivrYo2d38i0DUVJHnivayDTYiMWyPODsaPAflyXavxtoNuRWK-bUEAxq/exec";

f.onsubmit = e => {
  e.preventDefault();
  msg.textContent = "Submittingâ€¦";

  fetch(WEB_APP_URL, {
    method: "POST",
    body: new URLSearchParams({
      action: "subscribe",
      email: email.value.trim()
    })
  })
  .then(r => r.text())
  .then(t => {
    msg.textContent =
      t === "OK"
        ? "âœ… Check your email to confirm."
        : "âŒ " + t;
  })
  .catch(() => msg.textContent = "âŒ Network error");
};
</script>

</body>
</html>
