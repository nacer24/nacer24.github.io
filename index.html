<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free eBook</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  min-height: 100vh;
  background: #000;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
}

.wrapper {
  max-width: 1100px;
  width: 100%;
  padding: 24px;
}

/* MAIN CARD */
.card {
  display: flex;
  border-radius: 26px;
  overflow: hidden;
  background: #111;
  border: 1px solid #222;
  box-shadow: 0 40px 90px rgba(255, 0, 0, 0.18);
}

/* LEFT SIDE (IMAGE) */
.left {
  flex: 1;
  background: #0a0a0a;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 48px;
  border-right: 1px solid #222;
}

.ebook {
  width: 300px;
  max-width: 100%;
  border-radius: 16px;
  box-shadow: 0 25px 60px rgba(255, 0, 0, 0.45);
}

/* RIGHT SIDE (FORM) */
.right {
  flex: 1;
  background: #141414;
  padding: 56px;
}

h1 {
  color: #ff2d2d;
  font-size: 36px;
  margin-bottom: 14px;
  letter-spacing: -0.6px;
}

.subtitle {
  color: #ccc;
  font-size: 15px;
  line-height: 1.8;
  margin-bottom: 36px;
}

input[type="email"] {
  width: 100%;
  padding: 16px;
  border-radius: 14px;
  border: 1px solid #2a2a2a;
  background: #0c0c0c;
  color: #fff;
  font-size: 15px;
  margin-bottom: 18px;
}

input::placeholder {
  color: #777;
}

input:focus {
  outline: none;
  border-color: #ff2d2d;
}

button {
  width: 100%;
  padding: 16px;
  border-radius: 14px;
  border: none;
  background: #ff2d2d;
  color: #fff;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 35px rgba(255, 45, 45, 0.6);
}

#message {
  margin-top: 18px;
  font-size: 14px;
}

.trust {
  margin-top: 26px;
  font-size: 12px;
  color: #aaa;
}

.trust a {
  color: #ff2d2d;
  text-decoration: none;
}

/* MOBILE */
@media (max-width: 900px) {
  .card {
    flex-direction: column;
  }

  .left {
    border-right: none;
    border-bottom: 1px solid #222;
  }

  .right {
    padding: 36px;
    text-align: center;
  }
}
</style>
</head>

<body>

<div class="wrapper">
  <div class="card">

    <!-- IMAGE SIDE -->
    <div class="left">
      <img
        src="https://via.placeholder.com/300x420.png?text=Free+eBook"
        class="ebook"
        alt="Free eBook">
    </div>

    <!-- FORM SIDE -->
    <div class="right">
      <h1>Free eBook</h1>
      <p class="subtitle">
        Actionable knowledge. No fluff.<br>
        Instant access after confirmation.
      </p>

      <form id="subscribeForm">
        <input type="email" id="email" placeholder="Enter your email" required>
        <button type="submit">Get Instant Access</button>
      </form>

      <p id="message"></p>

      <div class="trust">
        No spam · Unsubscribe anytime<br>
        <a href="/privacy.html" target="_blank">Privacy Policy</a>
      </div>
    </div>

  </div>
</div>

<script>
const WEB_APP_URL =
"https://script.google.com/macros/s/AKfycbzp1GxfDYwmHdbWjHRtKdiU_BpWUPJ7U_0TLZd3jma_5xwiM4K835nzyL8gTnv2_57i/exec";

document.getElementById("subscribeForm").addEventListener("submit", e => {
  e.preventDefault();
  const email = document.getElementById("email").value.trim();
  const msg = document.getElementById("message");

  msg.textContent = "⏳ Sending confirmation email…";

  fetch(WEB_APP_URL, {
    method: "POST",
    body: new URLSearchParams({ action: "subscribe", email })
  })
  .then(r => r.text())
  .then(t => {
    msg.textContent = t.toLowerCase().includes("confirmation")
      ? "✅ Check your inbox to confirm."
      : "❌ " + t;
  })
  .catch(() => {
    msg.textContent = "❌ Network error.";
  });
});
</script>

</body>
</html>
